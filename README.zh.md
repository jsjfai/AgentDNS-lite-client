<p align='center'>
<img src='./resources/icon.png' width="150" height="150" alt="AgentDNS Icon" />
</p>

# agentdns-lite-client

æœ¬å·¥ç¨‹æ˜¯ä¸€ä¸ªåŸºäº **MCP åè®®** çš„æ™ºèƒ½ä½“ç½‘ç»œå®¢æˆ·ç«¯ï¼Œç»“åˆäº† **gentDNS** ä¸ **å¤§æ¨¡å‹**ï¼Œå®ç°äº†ä»¥ä¸‹åŠŸèƒ½ï¼š

- ğŸ” å°†ç”¨æˆ·è¾“å…¥çš„è‡ªç„¶è¯­è¨€é—®é¢˜ **è‡ªåŠ¨æ‹†åˆ†ä¸ºå­ä»»åŠ¡**
- ğŸ“‚ ä½¿ç”¨ **è§„åˆ™ + AgentDNS æä¾›çš„ categories** è¿›è¡Œä»»åŠ¡åˆ†ç±»
- ğŸŒ è°ƒç”¨ **AgentDNS** è·å–å¯¹åº”çš„æ™ºèƒ½æœåŠ¡å…¥å£ (Smart æœåŠ¡ baseurl)
- âš™ï¸ é€šè¿‡ **Smart æœåŠ¡** çš„å·¥å…·ï¼ˆ`get_available_tools` / `execute_tool`ï¼‰æ‰§è¡Œä»»åŠ¡
- ğŸ¤– å½“åˆ†ç±»å¤±è´¥ï¼ˆ`unknown`ï¼‰æ—¶ï¼Œè‡ªåŠ¨å›é€€åˆ° **å¤§æ¨¡å‹** ç›´æ¥å›ç­”
- ğŸŒ **å¤šè¯­è¨€æ”¯æŒ**ï¼šæ”¯æŒä¸­æ–‡å’Œè‹±æ–‡ç•Œé¢åˆ‡æ¢

---

## ğŸ“‚ å·¥ç¨‹ç»“æ„
```
agent-cli-client
â”œâ”€â”€ ai_agent_dns.py         # AgentDNS SSE å®¢æˆ·ç«¯ (è·å– categories / query category)
â”œâ”€â”€ config_loader.py        # é…ç½®æ–‡ä»¶åŠ è½½å™¨
â”œâ”€â”€ configure.json          # é…ç½®æ–‡ä»¶ï¼ˆè¯­è¨€è®¾ç½® / å¤§æ¨¡å‹ API Key / AgentDNS SSE URL / åˆ†ç±»è§„åˆ™ï¼‰
â”œâ”€â”€ match.py                # ä»»åŠ¡ä¸ç±»åˆ«çš„è§„åˆ™åŒ¹é…
â”œâ”€â”€ question_classify.py    # ä½¿ç”¨å¤§æ¨¡å‹å°†ç”¨æˆ·é—®é¢˜æ‹†åˆ†ä¸ºå­ä»»åŠ¡
â”œâ”€â”€ task_decompose.py       # è°ƒç”¨å·¥å…·ä»¥è·å–ä»»åŠ¡æ‰€éœ€çš„å¯ç”¨å·¥å…· (get_available_tools / execute_tool)
â”œâ”€â”€ i18n.py                 # å›½é™…åŒ–æ”¯æŒæ¨¡å—
â”œâ”€â”€ resources/              # èµ„æºæ–‡ä»¶ç›®å½•
â”‚   â”œâ”€â”€ banner_zh_CN.txt    # ä¸­æ–‡å¯åŠ¨æ¨ªå¹…
â”‚   â”œâ”€â”€ banner_en_US.txt    # è‹±æ–‡å¯åŠ¨æ¨ªå¹…
â”‚   â””â”€â”€ i18n/               # å›½é™…åŒ–é…ç½®æ–‡ä»¶
â”‚       â”œâ”€â”€ zh-CN.json      # ä¸­æ–‡è¯­è¨€åŒ…
â”‚       â””â”€â”€ en-US.json      # è‹±æ–‡è¯­è¨€åŒ…
â”œâ”€â”€ README.md               # é¡¹ç›®è¯´æ˜
â””â”€â”€ start_aiagentdns_loop_threads.py          # ä¸»å…¥å£ï¼šå®Œæ•´æµç¨‹ (åˆ†ç±» â†’ åŒ¹é… â†’ Smart è°ƒç”¨ â†’ å¤§æ¨¡å‹å…œåº•)
```

å®‰è£…ä¾èµ–ï¼š
``` bash
pip install -r requirements.txt
```

## ğŸ“‘ é…ç½®æ–‡ä»¶
è¯·ç¼–è¾‘ configure.jsonï¼š
``` json
{
  "language": "zh-CN",                        // ç•Œé¢è¯­è¨€ï¼šzh-CN (ä¸­æ–‡) æˆ– en-US (è‹±æ–‡)
  "deepseek": {
    "api_key": "sk-xxxxxxx",                  // ä½ çš„å¤§æ¨¡å‹ API Key
    "base_url": "https://api.deepseek.com/v1" // å¤§æ¨¡å‹ base URL
  },
  "agentdns": {
    "sse_url": "https://aitest.jsjfsz.com:8300/agentdns/main/sse"   // AgentDNS SSE æœåŠ¡åœ°å€
  },
  "category_rules": {
    "weather_forecast": ["å¤©æ°”", "weather", "æ°”æ¸©", "æ¹¿åº¦", "é£åŠ›"],
    "maps_location": ["é¤é¦†", "åœ°å›¾", "ä½ç½®", "é™„è¿‘", "é¥­åº—", "åœ°é“", "map"],
    "video_search": ["è§†é¢‘", "bç«™", "æŠ–éŸ³", "youtube", "video", "å½±ç‰‡"]
  }
}
```

## ğŸŒ å¤šè¯­è¨€æ”¯æŒ

### æ–¹å¼ä¸€ï¼šé…ç½®æ–‡ä»¶è®¾ç½®
åœ¨ `configure.json` ä¸­è®¾ç½® `language` å­—æ®µï¼š
- `"zh-CN"`: ä¸­æ–‡ç•Œé¢
- `"en-US"`: è‹±æ–‡ç•Œé¢

### æ–¹å¼äºŒï¼šç¯å¢ƒå˜é‡è®¾ç½®
```bash
# ä½¿ç”¨è‹±æ–‡ç•Œé¢
export AGENTDNS_LANG=en-US
python start_aiagentdns_loop_threads.py

# ä½¿ç”¨ä¸­æ–‡ç•Œé¢
export AGENTDNS_LANG=zh-CN
python start_aiagentdns_loop_threads.py
```

### æ”¯æŒçš„è¯­è¨€
- **ä¸­æ–‡ (zh-CN)**: é»˜è®¤è¯­è¨€ï¼Œå®Œæ•´åŠŸèƒ½æ”¯æŒ
- **è‹±æ–‡ (en-US)**: å®Œæ•´åŠŸèƒ½æ”¯æŒï¼ŒåŒ…å«è‹±æ–‡å¯åŠ¨æ¨ªå¹…å’Œç•Œé¢æ–‡æœ¬

## â–¶ï¸ è¿è¡Œç¤ºä¾‹

### ä¸­æ–‡ç•Œé¢è¿è¡Œ
```bash
python start_aiagentdns_loop_threads.py
```

### è‹±æ–‡ç•Œé¢è¿è¡Œ
```bash
# æ–¹å¼ä¸€ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶ configure.json ä¸­çš„ "language": "en-US"
python start_aiagentdns_loop_threads.py

# æ–¹å¼äºŒï¼šä½¿ç”¨ç¯å¢ƒå˜é‡
export AGENTDNS_LANG=en-US
python start_aiagentdns_loop_threads.py
```

---
## ğŸ“Œ åŠŸèƒ½è¯´æ˜

1. **ä»»åŠ¡æ‹†åˆ†**
   question_classify.py ä½¿ç”¨å¤§æ¨¡å‹å°†ç”¨æˆ·è¾“å…¥æ‹†åˆ†æˆå¤šä¸ªç¼–å·ä»»åŠ¡ã€‚

2. **åˆ†ç±»åŒ¹é…**
   match.py æ ¹æ®é…ç½®æ–‡ä»¶ä¸­çš„å…³é”®è¯è§„åˆ™åŒ¹é…åˆ° AgentDNS æä¾›çš„ categoriesã€‚
   - åŒ¹é…åˆ° â†’ ä½¿ç”¨ Smart æœåŠ¡æ‰§è¡Œ
   - åŒ¹é…å¤±è´¥ â†’ ä½¿ç”¨å¤§æ¨¡å‹å…œåº•å›ç­”

3. **ä»»åŠ¡é€‚é…æœåŠ¡è°ƒç”¨**
   task_decompose.py
   - get_available_tools â†’ è·å–å€™é€‰å·¥å…·
   - éå†å·¥å…·å¹¶è°ƒç”¨ execute_toolï¼Œè‡ªåŠ¨ç”¨å¤§æ¨¡å‹ç”Ÿæˆ arguments
   - å…ˆæ‰¾åˆ°èƒ½è¿”å›ç»“æœçš„å·¥å…·å°±åœæ­¢

4. **å…œåº•æœºåˆ¶**
   - å½“å…¨éƒ¨ä»»åŠ¡éƒ½æ˜¯ unknown æ—¶ï¼Œç›´æ¥è°ƒç”¨å¤§æ¨¡å‹è¾“å‡ºç»“æœã€‚
   - å½“éƒ¨åˆ†ä»»åŠ¡ unknownï¼Œéƒ¨åˆ†åŒ¹é…åˆ° â†’ æ··åˆè¾“å‡ºï¼ˆéƒ¨åˆ†ä»»åŠ¡é€‚é…ï¼Œéƒ¨åˆ†å¤§æ¨¡å‹ï¼‰ã€‚

5. **å¤šè¯­è¨€å›½é™…åŒ–**
   i18n.py æä¾›å®Œæ•´çš„å›½é™…åŒ–æ”¯æŒï¼š
   - è‡ªåŠ¨æ ¹æ®é…ç½®æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡åˆ‡æ¢è¯­è¨€
   - æ”¯æŒåŠ¨æ€åŠ è½½ä¸åŒè¯­è¨€çš„ç•Œé¢æ–‡æœ¬å’Œå¯åŠ¨æ¨ªå¹…
   - å¯æ‰©å±•çš„è¯­è¨€åŒ…ç³»ç»Ÿï¼Œæ”¯æŒè‡ªå®šä¹‰æ·»åŠ æ–°è¯­è¨€
